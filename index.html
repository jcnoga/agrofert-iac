<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgroFert - Sistema de Gest√£o</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <!-- MENU DE NAVEGA√á√ÉO (PLANO / SEM DROPDOWN) -->
    <nav class="navbar">
        <div class="brand" onclick="app.navigateTo('home')">
            Agro<span>Fert</span>
        </div>
        <ul class="nav-menu">
            <li><a class="nav-link active" id="nav-home" onclick="app.navigateTo('home')">In√≠cio</a></li>
            <li><a class="nav-link" id="nav-agronomos" onclick="app.navigateTo('agronomos')">Agr√¥nomos</a></li>
            <li><a class="nav-link" id="nav-culturas" onclick="app.navigateTo('culturas')">Culturas</a></li>
            <li><a class="nav-link" id="nav-tecnologias" onclick="app.navigateTo('tecnologias')">Tecnologias</a></li>
            <li><a class="nav-link" id="nav-quimicos" onclick="app.navigateTo('quimicos')">Elementos</a></li>
            <li><a class="nav-link" id="nav-amostras" onclick="app.navigateTo('amostras')" style="color: var(--soil-color); font-weight:700;">Amostras</a></li>
        </ul>
    </nav>

    <!-- DASHBOARD VIEW -->
    <div id="view-home" class="view-section active">
        <div class="hero-card">
            <h1 class="hero-title">Bem-vindo ao AgroFert</h1>
            <p class="hero-subtitle">Sistema Integrado de Recomenda√ß√£o Agron√¥mica.</p>
        </div>
        <div class="dashboard-grid">
            <div class="card dash-card soil" onclick="app.navigateTo('amostras')">
                <h3 id="dashTotalAmostras">0</h3>
                <p>Amostras</p>
            </div>
            <div class="card dash-card" onclick="app.navigateTo('agronomos')">
                <h3 id="dashTotalAgronomos">0</h3>
                <p>Agr√¥nomos</p>
            </div>
            <div class="card dash-card" onclick="app.navigateTo('culturas')">
                <h3 id="dashTotalCulturas">0</h3>
                <p>Culturas</p>
            </div>
        </div>
    </div>

    <!-- VIEW: CADASTRO DE AMOSTRAS -->
    <div id="view-amostras" class="view-section">
        <header>
            <h1>Amostras de Solo</h1>
            <button type="button" class="btn-test" onclick="app.preencherTeste()">‚ö° Preencher Teste</button>
        </header>

        <form id="amostraForm">
            <input type="hidden" id="idAmostra">
            <div class="card">
                <h3 class="section-title">1. Dados Gerais</h3>
                <div class="grid-2">
                    <div class="input-wrapper"><label>Produtor</label><input type="text" id="samp_produtor" required></div>
                    <div class="input-wrapper"><label>Propriedade</label><input type="text" id="samp_propriedade" required></div>
                </div>
                <div class="grid-2 mt-1">
                    <div class="input-wrapper"><label>Munic√≠pio/UF</label><input type="text" id="samp_cidade" required></div>
                    <div class="input-wrapper">
                        <label>Respons√°vel T√©cnico</label>
                        <select id="samp_agro" required><option value="">Carregando...</option></select>
                    </div>
                </div>

                <h3 class="section-title">2. Identifica√ß√£o</h3>
                <div class="grid-4">
                    <div class="input-wrapper"><label>Protocolo</label><input type="text" id="samp_protocolo"></div>
                    <div class="input-wrapper"><label>Talh√£o</label><input type="text" id="samp_talhao" required></div>
                    <div class="input-wrapper"><label>Profundidade</label><input type="text" id="samp_profundidade" value="0-20"></div>
                    <div class="input-wrapper"><label>Data</label><input type="date" id="samp_data" required></div>
                </div>
                
                <div class="grid-4 mt-1">
                    <div class="input-wrapper">
                        <label>Cultura</label>
                        <select id="samp_cultura" required onchange="app.atualizarDetalhesCultura()"></select>
                    </div>
                    <div class="input-wrapper"><label>Produtividade (t/ha)</label><input type="number" step="0.1" id="samp_producao"></div>
                    <div class="input-wrapper"><label>Esp. Linha (m)</label><input type="number" step="0.01" id="samp_esp_linha" placeholder="Ex: 0.8"></div>
                    <div class="input-wrapper"><label>Esp. Cova (m)</label><input type="number" step="0.01" id="samp_esp_cova" placeholder="Ex: 0.2"></div>
                </div>

                <h3 class="section-title">3. Qu√≠mica</h3>
                <div class="grid-4">
                    <div class="input-wrapper"><label>pH (H‚ÇÇO)</label><input type="number" step="0.01" id="samp_ph"></div>
                   <div class="input-wrapper"><label>M.O. (%)</label><input type="number" step="0.1" id="samp_mo"></div>
                    <div class="input-wrapper"><label>P-resina (mg/dm¬≥)</label><input type="number" step="0.1" id="samp_p"></div>
                    <div class="input-wrapper"><label>S (mg/dm¬≥)</label><input type="number" step="0.1" id="samp_s"></div>
                </div>
                <div class="grid-4 mt-1">
                    <div class="input-wrapper"><label>Ca (cmolc/dm¬≥)</label><input type="number" step="0.01" id="samp_ca"></div>
                    <div class="input-wrapper"><label>Mg (cmolc/dm¬≥)</label><input type="number" step="0.01" id="samp_mg"></div>
                    <div class="input-wrapper"><label>K (cmolc/dm¬≥)</label><input type="number" step="0.01" id="samp_k"></div>
                    <div class="input-wrapper"><label>H+Al (cmolc/dm¬≥)</label><input type="number" step="0.01" id="samp_hal"></div>
                </div>
                <div class="grid-4 mt-1">
                    <div class="input-wrapper"><label>Al (cmolc/dm¬≥)</label><input type="number" step="0.01" id="samp_al"></div>
                </div>

                <h3 class="section-title">4. F√≠sica / Micro</h3>
                <div class="grid-4">
                    <div class="input-wrapper"><label>Argila %</label><input type="number" step="1" id="samp_argila"></div>
                    <div class="input-wrapper"><label>Areia %</label><input type="number" step="1" id="samp_areia"></div>
                    <div class="input-wrapper"><label>Zn (mg/dm¬≥)</label><input type="number" step="0.01" id="samp_zn"></div>
                    <div class="input-wrapper"><label>B (mg/dm¬≥)</label><input type="number" step="0.01" id="samp_b"></div>
                </div>
                <div class="grid-4 mt-1">
                    <div class="input-wrapper"><label>Mn (mg/dm¬≥)</label><input type="number" step="0.01" id="samp_mn"></div>
                    <div class="input-wrapper"><label>Cu (mg/dm¬≥)</label><input type="number" step="0.01" id="samp_cu"></div>
                    <div class="input-wrapper"><label>Fe (mg/dm¬≥)</label><input type="number" step="0.01" id="samp_fe"></div>
                    <div class="input-wrapper"><label>Mo (mg/dm¬≥)</label><input type="number" step="0.001" id="samp_mo_micro"></div>
                </div>

                <div class="btn-container mt-2">
                    <button type="submit" class="btn-action btn-save">Salvar Amostra</button>
                    <button type="button" class="btn-action btn-cancel" onclick="app.limparForm('amostraForm', 'idAmostra')">Limpar</button>
                </div>
            </div>
        </form>

        <div class="table-container">
            <table id="tabelaAmostras">
                <thead><tr><th>Produtor</th><th>Talh√£o</th><th>Cultura</th><th>A√ß√µes</th></tr></thead>
                <tbody id="listaCorpoAmostra"></tbody>
            </table>
        </div>
    </div>

    <!-- VIEW: CADASTRO DE AGR√îNOMOS -->
    <div id="view-agronomos" class="view-section">
        <header><h1>Agr√¥nomos</h1></header>
        <div class="card">
            <form id="agronomoForm">
                <input type="hidden" id="idAgronomo">
                <div class="grid-2">
                    <div class="input-wrapper"><label>Nome</label><input type="text" id="nomeAgronomo" required></div>
                    <div class="input-wrapper"><label>CREA</label><input type="text" id="creaAgronomo" required></div>
                </div>
                <div class="btn-container mt-1">
                    <button type="submit" class="btn-action btn-save">Salvar</button>
                    <button type="button" class="btn-action btn-cancel" onclick="app.limparForm('agronomoForm', 'idAgronomo')">Limpar</button>
                </div>
            </form>
        </div>
        <div class="table-container"><table id="tabelaAgronomos"><thead><tr><th>Nome</th><th>CREA</th><th>A√ß√µes</th></tr></thead><tbody id="listaCorpoAgro"></tbody></table></div>
    </div>

    <!-- VIEW: CADASTRO DE CULTURAS -->
    <div id="view-culturas" class="view-section">
        <header><h1>Culturas</h1></header>
        <div class="card">
            <form id="culturaForm">
                <input type="hidden" id="idCultura">
                <div class="grid-3">
                    <div class="input-wrapper"><label>Cultura</label><input type="text" id="nomeCultura" required></div>
                    <div class="input-wrapper"><label>Tipo</label><select id="tipoCultura"><option value="Anual">Anual</option><option value="Perene">Perene</option></select></div>
                    <div class="input-wrapper"><label>Prod. Padr√£o</label><input type="text" id="prodCultura"></div>
                </div>
                <div class="btn-container mt-1">
                    <button type="submit" class="btn-action btn-save">Salvar</button>
                    <button type="button" class="btn-action btn-cancel" onclick="app.limparForm('culturaForm', 'idCultura')">Limpar</button>
                </div>
            </form>
        </div>
        <div class="table-container"><table id="tabelaCulturas"><thead><tr><th>Cultura</th><th>Tipo</th><th>A√ß√µes</th></tr></thead><tbody id="listaCorpoCultura"></tbody></table></div>
    </div>

    <!-- VIEW: CADASTRO DE TECNOLOGIAS -->
    <div id="view-tecnologias" class="view-section">
        <header><h1>Tecnologias</h1></header>
        <div class="card">
            <form id="tecForm">
                <input type="hidden" id="idTec">
                <div class="grid-2">
                    <div class="input-wrapper"><label>Nome</label><input type="text" id="nomeTec" required></div>
                    <div class="input-wrapper"><label>Regi√£o</label><input type="text" id="regiaoTec" required></div>
                </div>
                <div class="btn-container mt-1">
                    <button type="submit" class="btn-action btn-save">Salvar</button>
                    <button type="button" class="btn-action btn-cancel" onclick="app.limparForm('tecForm', 'idTec')">Limpar</button>
                </div>
            </form>
        </div>
        <div class="table-container"><table id="tabelaTecnologias"><thead><tr><th>Tecnologia</th><th>Regi√£o</th><th>A√ß√µes</th></tr></thead><tbody id="listaCorpoTec"></tbody></table></div>
    </div>

    <!-- VIEW: CADASTRO DE ELEMENTOS -->
    <div id="view-quimicos" class="view-section">
        <header><h1>Elementos</h1></header>
        <div class="card">
            <form id="quimicoForm">
                <input type="hidden" id="idQuimico">
                <div class="grid-3">
                    <div class="input-wrapper"><label>Sigla</label><input type="text" id="siglaQuimico" required></div>
                    <div class="input-wrapper"><label>Nome</label><input type="text" id="nomeQuimico" required></div>
                    <div class="input-wrapper"><label>Unidade</label><input type="text" id="unidadeQuimico" required></div>
                </div>
                <div class="btn-container mt-1">
                    <button type="submit" class="btn-action btn-save">Salvar</button>
                    <button type="button" class="btn-action btn-cancel" onclick="app.limparForm('quimicoForm', 'idQuimico')">Limpar</button>
                </div>
            </form>
        </div>
        <div class="table-container"><table id="tabelaQuimicos"><thead><tr><th>Sigla</th><th>Nome</th><th>A√ß√µes</th></tr></thead><tbody id="listaCorpoQuimico"></tbody></table></div>
    </div>

    <!-- MODAL DE RECOMENDA√á√ÉO -->
    <div id="modalRecomendacao" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="app.fecharModal()">&times;</span>
            <div id="conteudoRecomendacao" class="report-content"></div>
            <div class="modal-actions">
                <button class="btn-action btn-save" onclick="window.print()">üñ®Ô∏è Imprimir</button>
                <button class="btn-action btn-cancel" onclick="app.fecharModal()">Fechar</button>
            </div>
        </div>
    </div>

    <script type="module" src="app.js"></script>

</body>
</html>