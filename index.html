<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgroFert - Sistema de Gest√£o Agron√¥mica</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <!-- NAV BAR -->
    <nav class="navbar">
        <div class="brand" onclick="app.navigateTo('home')">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M17 8C8 10 5.9 16.17 3.82 21.34 5.71 21.82 7.6 22 9.5 22 17.5 22 22 17.5 22 9.5c0-3.5-2.5-6.5-5-1.5zM7 2c5 1 7.5 5 10 9-4-1-6-4-10-9z" fill="#2e7d32"/></svg>
            Agro<span>Fert</span>
        </div>
        <ul class="nav-menu">
            <li><a class="nav-link active" id="nav-home" onclick="app.navigateTo('home')">In√≠cio</a></li>
            <li class="dropdown">
                <a class="nav-link" href="#">Cadastros ‚ñº</a>
                <div class="dropdown-content">
                    <a onclick="app.navigateTo('agronomos')">Agr√¥nomos</a>
                    <a onclick="app.navigateTo('culturas')">Culturas</a>
                    <a onclick="app.navigateTo('tecnologias')">Tecnologias</a>
                    <a onclick="app.navigateTo('quimicos')">Elementos</a>
                </div>
            </li>
            <li><a class="nav-link" id="nav-amostras" onclick="app.navigateTo('amostras')">Amostras</a></li>
        </ul>
    </nav>

    <!-- DASHBOARD VIEW -->
    <div id="view-home" class="view-section active">
        <div class="hero-card">
            <h1 class="hero-title">Bem-vindo ao AgroFert</h1>
            <p class="hero-subtitle">Sistema Integrado de Recomenda√ß√£o Agron√¥mica (IAC 100).</p>
        </div>
        <div class="dashboard-grid">
            <div class="card dash-card soil" onclick="app.navigateTo('amostras')">
                <h3 id="dashTotalAmostras">0</h3>
                <p>Amostras de Solo</p>
            </div>
            <div class="card dash-card" onclick="app.navigateTo('culturas')">
                <h3 id="dashTotalCulturas">0</h3>
                <p>Culturas Cadastradas</p>
            </div>
        </div>
    </div>

    <!-- AMOSTRAS VIEW -->
    <div id="view-amostras" class="view-section">
        <header>
            <h1>Gest√£o de Amostras e An√°lises</h1>
            <button type="button" class="btn-test" onclick="app.preencherTeste()">‚ö° Preencher Teste</button>
        </header>

        <form id="amostraForm">
            <input type="hidden" id="idAmostra">
            <div class="card">
                <h3 class="section-title">1. Dados da Propriedade</h3>
                <div class="grid-2">
                    <div class="input-wrapper"><label>Produtor</label><input type="text" id="samp_produtor" required></div>
                    <div class="input-wrapper"><label>Propriedade</label><input type="text" id="samp_propriedade" required></div>
                </div>
                <div class="grid-2 mt-1">
                    <div class="input-wrapper"><label>Munic√≠pio/UF</label><input type="text" id="samp_cidade" required></div>
                    <div class="input-wrapper">
                        <label>Respons√°vel T√©cnico</label>
                        <select id="samp_agro" required><option value="">Carregando...</option></select>
                    </div>
                </div>

                <h3 class="section-title">2. Identifica√ß√£o e Cultura</h3>
                <div class="grid-4">
                    <div class="input-wrapper"><label>Protocolo Lab.</label><input type="text" id="samp_protocolo"></div>
                    <div class="input-wrapper"><label>Talh√£o</label><input type="text" id="samp_talhao" required></div>
                    <div class="input-wrapper"><label>Profundidade (cm)</label><input type="text" id="samp_profundidade" value="0-20"></div>
                    <div class="input-wrapper"><label>Data Coleta</label><input type="date" id="samp_data" required></div>
                </div>
                <div class="grid-3 mt-1">
                    <div class="input-wrapper">
                        <label>Cultura</label>
                        <select id="samp_cultura" required onchange="app.atualizarDetalhesCultura()"></select>
                    </div>
                    <div class="input-wrapper"><label>Produtividade Esperada (t/ha)</label><input type="number" step="0.1" id="samp_producao" placeholder="Ex: 10"></div>
                    <div class="input-wrapper"><label>Espa√ßamento (m)</label><input type="text" id="samp_espacamento"></div>
                </div>

                <h3 class="section-title">3. Resultados Qu√≠micos</h3>
                <div class="grid-4">
                    <div class="input-wrapper"><label>pH (H‚ÇÇO)</label><input type="number" step="0.01" id="samp_ph"></div>
                    <div class="input-wrapper"><label>M.O. (g/dm¬≥)</label><input type="number" step="0.1" id="samp_mo"></div>
                    <div class="input-wrapper"><label>P-resina (mg/dm¬≥)</label><input type="number" step="0.1" id="samp_p"></div>
                    <div class="input-wrapper"><label>S (mg/dm¬≥)</label><input type="number" step="0.1" id="samp_s"></div>
                </div>
                <div class="grid-4 mt-1">
                    <div class="input-wrapper"><label>Ca (cmolc/dm¬≥)</label><input type="number" step="0.01" id="samp_ca"></div>
                    <div class="input-wrapper"><label>Mg (cmolc/dm¬≥)</label><input type="number" step="0.01" id="samp_mg"></div>
                    <div class="input-wrapper"><label>K (cmolc/dm¬≥)</label><input type="number" step="0.01" id="samp_k"></div>
                    <div class="input-wrapper"><label>H+Al (cmolc/dm¬≥)</label><input type="number" step="0.01" id="samp_hal"></div>
                </div>
                <div class="grid-4 mt-1">
                    <div class="input-wrapper"><label>Al (cmolc/dm¬≥)</label><input type="number" step="0.01" id="samp_al"></div>
                </div>

                <h3 class="section-title">4. F√≠sica e Micronutrientes</h3>
                <div class="grid-4">
                    <div class="input-wrapper"><label>Argila %</label><input type="number" step="1" id="samp_argila"></div>
                    <div class="input-wrapper"><label>Areia %</label><input type="number" step="1" id="samp_areia"></div>
                    <div class="input-wrapper"><label>Zn (mg/dm¬≥)</label><input type="number" step="0.1" id="samp_zn"></div>
                    <div class="input-wrapper"><label>B (mg/dm¬≥)</label><input type="number" step="0.1" id="samp_b"></div>
                </div>
                <div class="grid-4 mt-1">
                    <div class="input-wrapper"><label>Mn (mg/dm¬≥)</label><input type="number" step="0.1" id="samp_mn"></div>
                    <div class="input-wrapper"><label>Cu (mg/dm¬≥)</label><input type="number" step="0.1" id="samp_cu"></div>
                    <div class="input-wrapper"><label>Fe (mg/dm¬≥)</label><input type="number" step="0.1" id="samp_fe"></div>
                    <div class="input-wrapper"><label>Mo (mg/dm¬≥)</label><input type="number" step="0.01" id="samp_mo_micro"></div>
                </div>

                <div class="btn-container mt-2">
                    <button type="submit" class="btn-action btn-save" id="btnSalvarAmostra">Salvar Amostra</button>
                    <button type="button" class="btn-action btn-cancel" id="btnCancelarAmostra" onclick="app.limparFormAmostra()" style="display:none">Cancelar</button>
                </div>
            </div>
        </form>

        <div class="table-container">
            <table id="tabelaAmostras">
                <thead>
                    <tr>
                        <th>ID/Talh√£o</th>
                        <th>Produtor</th>
                        <th>Cultura</th>
                        <th>Data</th>
                        <th>A√ß√µes</th>
                    </tr>
                </thead>
                <tbody id="listaCorpoAmostra"></tbody>
            </table>
        </div>
    </div>

    <!-- VIEWS PLACEHOLDER (Outros cadastros simplificados para o exemplo) -->
    <div id="view-agronomos" class="view-section">
        <h1>Agr√¥nomos</h1>
        <!-- Conte√∫do similar ao original, gerado via JS para economizar espa√ßo aqui -->
        <div class="card"><p>Utilize o menu "Cadastros" para gerenciar.</p></div>
    </div>
    <div id="view-culturas" class="view-section"><h1>Culturas</h1><div class="card"><p>Gest√£o de Culturas.</p></div></div>
    <div id="view-tecnologias" class="view-section"><h1>Tecnologias</h1><div class="card"><p>Gest√£o de Tecnologias.</p></div></div>
    <div id="view-quimicos" class="view-section"><h1>Elementos</h1><div class="card"><p>Gest√£o de Elementos.</p></div></div>

    <!-- MODAL DE RECOMENDA√á√ÉO -->
    <div id="modalRecomendacao" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="app.fecharModal()">&times;</span>
            <div id="conteudoRecomendacao" class="report-content"></div>
            <div class="modal-actions">
                <button class="btn-action btn-save" onclick="window.print()">üñ®Ô∏è Imprimir / PDF</button>
                <button class="btn-action btn-cancel" onclick="app.fecharModal()">Fechar</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>