<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgroFert - Sistema de Gestão</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <!-- MENU DE NAVEGAÇÃO (PLANO / SEM DROPDOWN) -->
    <nav class="navbar">
        <div class="brand" onclick="app.navigateTo('home')">
            Agro<span>Fert</span>
        </div>
        <ul class="nav-menu">
            <li><a class="nav-link active" id="nav-home" onclick="app.navigateTo('home')">Início</a></li>
            <li><a class="nav-link" id="nav-agronomos" onclick="app.navigateTo('agronomos')">Agrônomos</a></li>
            <li><a class="nav-link" id="nav-culturas" onclick="app.navigateTo('culturas')">Culturas</a></li>
            <li><a class="nav-link" id="nav-tecnologias" onclick="app.navigateTo('tecnologias')">Tecnologias</a></li>
            <li><a class="nav-link" id="nav-quimicos" onclick="app.navigateTo('quimicos')">Elementos</a></li>
            <li><a class="nav-link" id="nav-amostras" onclick="app.navigateTo('amostras')" style="color: var(--soil-color); font-weight:700;">Amostras</a></li>
        </ul>
    </nav>

    <!-- DASHBOARD VIEW -->
    <div id="view-home" class="view-section active">
        <div class="hero-card">
            <h1 class="hero-title">Bem-vindo ao AgroFert</h1>
            <p class="hero-subtitle">Sistema Integrado de Recomendação Agronômica.</p>
        </div>
        <div class="dashboard-grid">
            <div class="card dash-card soil" onclick="app.navigateTo('amostras')">
                <h3 id="dashTotalAmostras">0</h3>
                <p>Amostras</p>
            </div>
            <div class="card dash-card" onclick="app.navigateTo('agronomos')">
                <h3 id="dashTotalAgronomos">0</h3>
                <p>Agrônomos</p>
            </div>
            <div class="card dash-card" onclick="app.navigateTo('culturas')">
                <h3 id="dashTotalCulturas">0</h3>
                <p>Culturas</p>
            </div>
        </div>Dados Gerais
    </div>

    <!-- VIEW: CADASTRO DE AMOSTRAS -->
<!-- VIEW: CADASTRO DE AMOSTRAS (CORRIGIDO E ALINHADO) -->
    <div id="view-amostras" class="view-section">
        <header>
            <h1>Amostras de Solo</h1>
            <button type="button" class="btn-test" onclick="app.preencherTeste()">⚡ Preencher Teste</button>
        </header>

        <form id="amostraForm">
            <input type="hidden" id="idAmostra">
            <div class="card">
                
                <!-- SEÇÃO 1: DADOS GERAIS -->
                <h3 class="section-title">1. Dados Gerais</h3>
                <div class="grid-3">
                    <div class="input-wrapper">
                        <label>Produtor</label>
                        <input type="text" id="samp_produtor" required>
                    </div>
                    <div class="input-wrapper">
                        <label>Propriedade</label>
                        <input type="text" id="samp_propriedade" required>
                    </div>
                    <div class="input-wrapper">
                        <label>Cultivo Anterior</label>
                        <select id="samp_anterior">
                            <option value="milho" selected>Milho (com palha incorporada)</option>
                            <option value="gramineas">Gramíneas (Braquiária, Milheto, Pastagens)</option>
                            <option value="leguminosas">Leguminosas (Soja, Feijão, Adubos Verdes)</option>
                            <option value="pousio">Pousio</option>
                        </select>
                    </div>
                </div>
                
                <div class="grid-2 mt-1">
                    <div class="input-wrapper">
                        <label>Município/UF</label>
                        <input type="text" id="samp_cidade" required>
                    </div>
                    <div class="input-wrapper">
                        <label>Responsável Técnico</label>
                        <select id="samp_agro" required>
                            <option value="">Carregando...</option>
                        </select>
                    </div>
                </div>

                <!-- SEÇÃO 2: IDENTIFICAÇÃO E CULTURA -->
                <h3 class="section-title mt-2">2. Identificação e Cultura</h3>
                <div class="grid-4">
                    <div class="input-wrapper"><label>Protocolo</label><input type="text" id="samp_protocolo"></div>
                    <div class="input-wrapper"><label>Talhão</label><input type="text" id="samp_talhao" required></div>
                    <div class="input-wrapper"><label>Profundidade</label><input type="text" id="samp_profundidade" value="0-20"></div>
                    <div class="input-wrapper"><label>Data</label><input type="date" id="samp_data" required></div>
                </div>
                
                <div class="grid-4 mt-1">
                    <div class="input-wrapper">
                        <label>Cultura Atual</label>
                        <select id="samp_cultura" required onchange="app.atualizarDetalhesCultura()"></select>
                    </div>
                    <div class="input-wrapper"><label>Produtividade (t/ha)</label><input type="number" step="0.1" id="samp_producao"></div>
                    <div class="input-wrapper"><label>Esp. Linha (m)</label><input type="number" step="0.01" id="samp_esp_linha" placeholder="0.50"></div>
                    <div class="input-wrapper"><label>Esp. Cova (m)</label><input type="number" step="0.01" id="samp_esp_cova" placeholder="0.20"></div>
                </div>

                <!-- SEÇÃO 3: QUÍMICA -->
                <h3 class="section-title mt-2">3. Análise Química</h3>
                <div class="grid-4">
                    <div class="input-wrapper"><label>pH (H₂O)</label><input type="number" step="0.01" id="samp_ph"></div>
                    <div class="input-wrapper"><label>M.O. (%)</label><input type="number" step="0.1" id="samp_mo"></div>
                    <div class="input-wrapper"><label>P-resina (mg/dm³)</label><input type="number" step="0.1" id="samp_p"></div>
                    <div class="input-wrapper"><label>S (mg/dm³)</label><input type="number" step="0.1" id="samp_s"></div>
                </div>
                <div class="grid-4 mt-1">
                    <div class="input-wrapper"><label>Ca (cmolc/dm³)</label><input type="number" step="0.01" id="samp_ca"></div>
                    <div class="input-wrapper"><label>Mg (cmolc/dm³)</label><input type="number" step="0.01" id="samp_mg"></div>
                    <div class="input-wrapper"><label>K (cmolc/dm³)</label><input type="number" step="0.01" id="samp_k"></div>
                    <div class="input-wrapper"><label>H+Al (cmolc/dm³)</label><input type="number" step="0.01" id="samp_hal"></div>
                </div>
                <div class="grid-4 mt-1">
                    <div class="input-wrapper"><label>Al (cmolc/dm³)</label><input type="number" step="0.01" id="samp_al"></div>
                </div>

                <!-- SEÇÃO 4: FÍSICA E MICRO -->
                <h3 class="section-title mt-2">4. Física e Micronutrientes</h3>
                <div class="grid-4">
                    <div class="input-wrapper"><label>Argila %</label><input type="number" step="1" id="samp_argila"></div>
                    <div class="input-wrapper"><label>Areia %</label><input type="number" step="1" id="samp_areia"></div>
                    <div class="input-wrapper"><label>Zn (mg/dm³)</label><input type="number" step="0.01" id="samp_zn"></div>
                    <div class="input-wrapper"><label>B (mg/dm³)</label><input type="number" step="0.01" id="samp_b"></div>
                </div>
                <div class="grid-4 mt-1">
                    <div class="input-wrapper"><label>Mn (mg/dm³)</label><input type="number" step="0.01" id="samp_mn"></div>
                    <div class="input-wrapper"><label>Cu (mg/dm³)</label><input type="number" step="0.01" id="samp_cu"></div>
                    <div class="input-wrapper"><label>Fe (mg/dm³)</label><input type="number" step="0.01" id="samp_fe"></div>
                    <div class="input-wrapper"><label>Mo (mg/dm³)</label><input type="number" step="0.001" id="samp_mo_micro"></div>
                </div>

                <div class="btn-container mt-2">
                    <button type="submit" class="btn-action btn-save">Salvar Amostra</button>
                    <button type="button" class="btn-action btn-cancel" onclick="app.limparForm('amostraForm', 'idAmostra')">Limpar</button>
                </div>
            </div>
        </form>

        <div class="table-container">
            <table id="tabelaAmostras">
                <thead>
                    <tr>
                        <th>Produtor / Talhão</th>
                        <th>Cultura</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody id="listaCorpoAmostra"></tbody>
            </table>
        </div>
    </div>
    <script type="module" src="app.js?v=2"></script>
</body>
</html>

	
<head>
    <!-- ... seus outros links ... -->
    <link rel="stylesheet" href="styles.css">

    <!-- COLE ISTO AQUI PARA FORÇAR O MENU A APARECER -->
    <style>
        body {
            padding-top: 80px !important;
        }
        .navbar {
            display: flex !important;
            visibility: visible !important;
            opacity: 1 !important;
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            height: 70px !important;
            background-color: #ffffff !important;
            border-bottom: 4px solid #2e7d32 !important; /* Borda verde grossa para ver bem */
            z-index: 999999 !important;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2) !important;
        }
        .nav-menu {
            display: flex !important;
            list-style: none !important;
            gap: 15px !important;
        }
        .nav-link {
            color: #333 !important;
            font-weight: bold !important;
            cursor: pointer !important;
        }
        /* Para garantir que não suma na impressão da tela */
        @media screen {
            .navbar { display: flex !important; }
        }
    </style>
</head>	

</body>
</html>